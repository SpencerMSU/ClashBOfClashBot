# Clash of Clans Telegram Bot (Go Version)

–≠—Ç–æ Go-–≤–µ—Ä—Å–∏—è Telegram –±–æ—Ç–∞ –¥–ª—è Clash of Clans, –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å Python. YooKassa API –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ Python –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ bridge-—Å–∫—Ä–∏–ø—Ç.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üë§ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª–µ–π –∏–≥—Ä–æ–∫–æ–≤
- üõ° –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞–Ω–∞—Ö –∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞—Ö
- ‚öîÔ∏è –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–ª–∞–Ω–æ–≤—ã—Ö –≤–æ–π–Ω –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- üèÜ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –õ–∏–≥–∏ –≤–æ–π–Ω –∫–ª–∞–Ω–æ–≤ (–õ–í–ö)
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∞—á–∞–ª–µ –≤–æ–π–Ω
- üìä –ê–Ω–∞–ª–∏–∑ –Ω–∞—Ä—É—à–µ–Ω–∏–π –ø—Ä–∞–≤–∏–ª –≤–æ–π–Ω—ã
- üí∞ –ü–æ–¥—Å—á–µ—Ç –±–æ–Ω—É—Å–æ–≤ –õ–í–ö (—á–µ—Ä–µ–∑ Python YooKassa API)
- üìà –ê—Ä—Ö–∏–≤–∞—Ü–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–æ–π–Ω

### –ö–æ–º–∞–Ω–¥—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏:
- **–ü—Ä–æ—Ñ–∏–ª—å**: –ü—Ä–∏–≤—è–∑–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞, –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è, –ø–æ–∏—Å–∫ –∏–≥—Ä–æ–∫–æ–≤
- **–ö–ª–∞–Ω**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞–Ω–µ, —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –∏—Å—Ç–æ—Ä–∏—è –≤–æ–π–Ω
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫–ª–∞–Ω–æ–≤—ã—Ö –≤–æ–π–Ω–∞—Ö
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–æ–π–Ω–∞—Ö –∏ –∞—Ç–∞–∫–∞—Ö
- **–ü—Ä–µ–º–∏—É–º**: –ü–ª–∞—Ç–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ YooKassa (Python bridge)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.21 –∏–ª–∏ –≤—ã—à–µ
- Python 3.8+ (–¥–ª—è YooKassa API)
- SQLite3

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### Go –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
go mod download
```

#### Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip3 install aiohttp
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API —Ç–æ–∫–µ–Ω–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `api_tokens.txt` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```
# Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
BOT_TOKEN=–≤–∞—à_telegram_bot_token

# Clash of Clans API Token (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ https://developer.clashofclans.com)
COC_API_TOKEN=–≤–∞—à_clash_of_clans_api_token

# Bot Username (–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–æ—Ç–∞ –±–µ–∑ @)
BOT_USERNAME=–∏–º—è_–≤–∞—à–µ–≥–æ_–±–æ—Ç–∞

# YooKassa —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –µ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
YOOKASSA_SHOP_ID=–≤–∞—à_shop_id_yookassa
YOOKASSA_SECRET_KEY=–≤–∞—à_secret_key_yookassa
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±**: –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

### 4. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

#### –°–±–æ—Ä–∫–∞:
```bash
go build -o clashbot-go .
```

#### –ó–∞–ø—É—Å–∫:
```bash
./clashbot-go
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ main.go                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ Go –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ payment_bridge.py          # Python bridge –¥–ª—è YooKassa API
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ bot/                   # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bot.go
‚îÇ   ‚îú‚îÄ‚îÄ config/                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.go
‚îÇ   ‚îú‚îÄ‚îÄ database/              # –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service.go
‚îÇ   ‚îú‚îÄ‚îÄ api/                   # –ö–ª–∏–µ–Ω—Ç API Clash of Clans
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ coc_client.go
‚îÇ   ‚îú‚îÄ‚îÄ handlers/              # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ callback
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ handlers.go
‚îÇ   ‚îú‚îÄ‚îÄ payment/               # Go wrapper –¥–ª—è Python YooKassa
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service.go
‚îÇ   ‚îî‚îÄ‚îÄ models/                # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ       ‚îú‚îÄ‚îÄ user.go
‚îÇ       ‚îú‚îÄ‚îÄ war.go
‚îÇ       ‚îî‚îÄ‚îÄ building.go
‚îú‚îÄ‚îÄ go.mod                     # Go –º–æ–¥—É–ª–∏
‚îú‚îÄ‚îÄ go.sum                     # –•–µ—à–∏ –º–æ–¥—É–ª–µ–π
‚îî‚îÄ‚îÄ README-GO.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Go –≤–µ—Ä—Å–∏–∏
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### Go –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Telegram Bot API**: `github.com/go-telegram-bot-api/telegram-bot-api/v5`
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite —Å –¥—Ä–∞–π–≤–µ—Ä–æ–º `github.com/mattn/go-sqlite3`
- **HTTP –∫–ª–∏–µ–Ω—Ç**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Go
- **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –ì–æ—Ä—É—Ç–∏–Ω—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

### Python Bridge –¥–ª—è YooKassa
- –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π Python —Å–∫—Ä–∏–ø—Ç `payment_bridge.py`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `exec.Command` –∏–∑ Go
- JSON API –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π YooKassa

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLite —Å –ø–æ–ª–Ω–æ–π —Å—Ö–µ–º–æ–π, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π Python –≤–µ—Ä—Å–∏–∏:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–∏
- –í–æ–π–Ω—ã –∏ –∞—Ç–∞–∫–∏
- –ü–æ–¥–ø–∏—Å–∫–∏ –∏ –ø–ª–∞—Ç–µ–∂–∏
- –°–Ω–∏–º–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

## API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### Clash of Clans API
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π API
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–≥–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### YooKassa API (—á–µ—Ä–µ–∑ Python)
–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ `payment_bridge.py`:
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
python3 payment_bridge.py create_payment <telegram_id> <subscription_type> [return_url]

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–ª–∞—Ç–µ–∂–∞
python3 payment_bridge.py check_payment <payment_id>

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω—ã –ø–æ–¥–ø–∏—Å–∫–∏
python3 payment_bridge.py get_price <subscription_type>

# –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
python3 payment_bridge.py get_name <subscription_type>
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### API —Ç–æ–∫–µ–Ω—ã (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π —Å–ø–æ—Å–æ–±)

–¢–æ–∫–µ–Ω—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª `api_tokens.txt`:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π |
|----------|----------|--------------|
| `BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ | –î–∞ |
| `COC_API_TOKEN` | –¢–æ–∫–µ–Ω API Clash of Clans | –î–∞ |
| `BOT_USERNAME` | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–æ—Ç–∞ | –ù–µ—Ç |
| `YOOKASSA_SHOP_ID` | ID –º–∞–≥–∞–∑–∏–Ω–∞ YooKassa | –ù–µ—Ç |
| `YOOKASSA_SECRET_KEY` | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á YooKassa | –ù–µ—Ç |

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|--------------|
| `BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ | –î–∞ | - |
| `COC_API_TOKEN` | –¢–æ–∫–µ–Ω API Clash of Clans | –î–∞ | - |
| `OUR_CLAN_TAG` | –¢–µ–≥ –∫–ª–∞–Ω–∞ | –ù–µ—Ç | #2PQU0PLJ2 |
| `DATABASE_PATH` | –ü—É—Ç—å –∫ –ë–î | –ù–µ—Ç | clashbot.db |
| `ARCHIVE_CHECK_INTERVAL` | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä–∞ (—Å–µ–∫) | –ù–µ—Ç | 900 |
| `DONATION_SNAPSHOT_INTERVAL` | –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–Ω–∏–º–∫–æ–≤ –¥–æ–Ω–∞—Ç–æ–≤ (—Å–µ–∫) | –ù–µ—Ç | 21600 |

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `/start` - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- `/link <—Ç–µ–≥>` - –ü—Ä–∏–≤—è–∑–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏–≥—Ä–æ–∫–∞
- `/profile` - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è
- `/clan` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞–Ω–µ
- `/search <—Ç–µ–≥>` - –ü–æ–∏—Å–∫ –∏–≥—Ä–æ–∫–∞ –∏–ª–∏ –∫–ª–∞–Ω–∞
- `/subscription` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```
/link #ABC123DEF
/search #ClanTag
/search #PlayerTag
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ (–∫–æ–Ω—Å–æ–ª—å) —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏ –∏ —É—Ä–æ–≤–Ω—è–º–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏.

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å Python –≤–µ—Ä—Å–∏–∏

### –ß—Ç–æ –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ:
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å COC
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π (—á–µ—Ä–µ–∑ Python bridge)
- ‚úÖ –†—É—Å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Go –≤–µ—Ä—Å–∏–∏:
- üöÄ –ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- üíæ –ú–µ–Ω—å—à–µ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- üîß –ü—Ä–æ—Å—Ç–∞—è —Å–±–æ—Ä–∫–∞ –≤ –æ–¥–∏–Ω –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª
- ‚ö° –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å (–≥–æ—Ä—É—Ç–∏–Ω—ã)
- üõ°Ô∏è –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è

### YooKassa —á–µ—Ä–µ–∑ Python Bridge:
- üêç –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å YooKassa Python SDK
- üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ JSON API
- ‚úÖ –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–ª–∞—Ç–µ–∂–µ–π
- üîí –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è Python –∫–æ–¥–∞

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
```dockerfile
FROM golang:1.21-alpine AS builder
WORKDIR /app
COPY . .
RUN go build -o clashbot-go .

FROM python:3.11-alpine
RUN pip install aiohttp
WORKDIR /app
COPY --from=builder /app/clashbot-go .
COPY payment_bridge.py .
CMD ["./clashbot-go"]
```

### –°–∏—Å—Ç–µ–º–Ω–∞—è —Å–ª—É–∂–±–∞:
```ini
[Unit]
Description=ClashBot Go
After=network.target

[Service]
Type=simple
User=clashbot
WorkingDirectory=/opt/clashbot
ExecStart=/opt/clashbot/clashbot-go
Restart=always

[Install]
WantedBy=multi-user.target
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤ –≤ —Ñ–∞–π–ª–µ `api_tokens.txt`
2. –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
3. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API Clash of Clans
4. –ù–∞–ª–∏—á–∏–µ Python 3 –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ aiohttp
5. –ü—Ä–∞–≤–∞ –±–æ—Ç–∞ –≤ Telegram

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

Go –≤–µ—Ä—Å–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å Python:
- **–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞**: ~50ms (vs ~2s Python)
- **–ü–∞–º—è—Ç—å**: ~10MB (vs ~50MB Python)
- **CPU**: –ù–∞ 30-40% —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ
- **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–æ—Ä—É—Ç–∏–Ω