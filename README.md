# ClashBot - Telegram –±–æ—Ç –¥–ª—è Clash of Clans

[![Go Version](https://img.shields.io/badge/Go-1.21+-00ADD8?style=flat&logo=go)](https://golang.org)
[![Python Version](https://img.shields.io/badge/Python-3.8+-3776AB?style=flat&logo=python)](https://python.org)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

Telegram –±–æ—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–ª–∞–Ω–æ–≤ –∏ –∏–≥—Ä–æ–∫–æ–≤ –≤ Clash of Clans —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø—Ä–µ–º–∏—É–º-—Ñ—É–Ω–∫—Ü–∏–π.

## üöÄ –°—Ç–∞—Ç—É—Å –ü—Ä–æ–µ–∫—Ç–∞

**–ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å Python –Ω–∞ Go**

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- ‚úÖ **Python –≤–µ—Ä—Å–∏—è** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ (–≤ –ø–∞–ø–∫–µ `oldpy/`)
- üîÑ **Go –≤–µ—Ä—Å–∏—è** - ~43% –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (Go):
- ‚úÖ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø–æ–¥–ø–∏—Å–∫–∏, –≤–æ–π–Ω—ã, –∑–¥–∞–Ω–∏—è)
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite (–ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞)
- ‚úÖ Clash of Clans API –∫–ª–∏–µ–Ω—Ç
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ YooKassa –ø–ª–∞—Ç–µ–∂–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–æ–π–Ω –∏ –∑–¥–∞–Ω–∏–π
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

### –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (Go):
- ‚è≥ –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
- ‚è≥ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚è≥ –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- ‚è≥ Webhook –æ–±—Ä–∞–±–æ—Ç–∫–∞

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üéØ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä–æ–∫–æ–≤ –∏ –∫–ª–∞–Ω–æ–≤
- ‚öîÔ∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–æ–π–Ω –∏ CWL
- üìä –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∞—Ç–∞–∫
- üèÜ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- üíé –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–Ω–∞—Ç–∞—Ö

### Premium —Ñ—É–Ω–∫—Ü–∏–∏:
- üë• –ú—É–ª—å—Ç–∏–ø—Ä–æ—Ñ–∏–ª—å–Ω–æ—Å—Ç—å (–¥–æ 3 –ø—Ä–æ—Ñ–∏–ª–µ–π)
- üèóÔ∏è –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π –∑–¥–∞–Ω–∏–π
- üìà –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–æ–π–Ω
- üîî –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### Python –≤–µ—Ä—Å–∏—è (oldpy/)

```bash
cd oldpy
pip install -r requirements.txt
python main.py
```

### Go –≤–µ—Ä—Å–∏—è (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
go mod download

# –ó–∞–ø—É—Å–∫
go run main.go
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `api_tokens.txt` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```
BOT_TOKEN=your_telegram_bot_token
COC_API_TOKEN=your_coc_api_token
YOOKASSA_SHOP_ID=your_yookassa_shop_id
YOOKASSA_SECRET_KEY=your_yookassa_secret_key
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ADMINSTR.md](ADMINSTR.md) - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- [README_GO.md](README_GO.md) - –î–µ—Ç–∞–ª–∏ Go —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- [ALL_IMPORTER_README.md](ALL_IMPORTER_README.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∫–∞–Ω–µ—Ä–∞ –∫–ª–∞–Ω–æ–≤
- [WAR_IMPORTER_README.md](WAR_IMPORTER_README.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–µ—Ä–∞ –≤–æ–π–Ω
- [ERROR_TRACKING_README.md](ERROR_TRACKING_README.md) - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ API

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ClashBOfClashBot/
‚îú‚îÄ‚îÄ oldpy/                  # Python –≤–µ—Ä—Å–∏—è (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞)
‚îÇ   ‚îú‚îÄ‚îÄ bot.py             # –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ handlers.py        # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ message_generator.py  # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ database.py        # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ internal/              # Go –≤–µ—Ä—Å–∏—è (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
‚îÇ   ‚îú‚îÄ‚îÄ api/              # API –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ database/         # –°–µ—Ä–≤–∏—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ models/           # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ services/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ utils/            # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ config/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ main.go              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ Go –≤–µ—Ä—Å–∏–∏
‚îî‚îÄ‚îÄ *.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Python –≤–µ—Ä—Å–∏—è:
- python-telegram-bot
- aiohttp
- sqlite3
- YooKassa API

### Go –≤–µ—Ä—Å–∏—è:
- github.com/go-telegram-bot-api/telegram-bot-api/v5
- github.com/mattn/go-sqlite3
- github.com/go-resty/resty/v2
- YooKassa API v3

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | Python —Å—Ç—Ä–æ–∫ | Go —Å—Ç—Ä–æ–∫ | –°—Ç–∞—Ç—É—Å |
|-----------|--------------|----------|--------|
| –ú–æ–¥–µ–ª–∏ | ~220 | ~260 | ‚úÖ 100% |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | ~1570 | ~1380 | ‚úÖ 100% |
| API –∫–ª–∏–µ–Ω—Ç | ~700 | ~450 | ‚úÖ 100% |
| –°–µ—Ä–≤–∏—Å—ã | ~3000 | ~1950 | ‚úÖ 100% |
| –£—Ç–∏–ª–∏—Ç—ã | ~2200 | ~950 | ‚úÖ 100% |
| –ë–æ—Ç/–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ | ~8509 | ~0 | ‚è≥ 0% |
| **–ò—Ç–æ–≥–æ** | **~14976** | **~4686** | **~43%** |

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–æ–µ–∫—Ç –≤ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è –ø–æ–º–æ—â—å –≤ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Go!

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE)

## üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
