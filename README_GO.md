# ClashBot - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Go

## üéØ –°—Ç–∞—Ç—É—Å –ú–∏–≥—Ä–∞—Ü–∏–∏

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–∏–≥—Ä–∞—Ü–∏—é Telegram –±–æ—Ç–∞ ClashBot —Å Python –Ω–∞ Go.

**–ü—Ä–æ–≥—Ä–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏: ~43% –∑–∞–≤–µ—Ä—à–µ–Ω–æ**

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

#### üì¶ –ú–æ–¥–µ–ª–∏ (internal/models/)
- ‚úÖ `user.go` - –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ `subscription.go` - –ú–æ–¥–µ–ª—å –ø–æ–¥–ø–∏—Å–∫–∏ (Premium & PRO PLUS)
- ‚úÖ `user_profile.go` - –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–º—É–ª—å—Ç–∏–ø—Ä–æ—Ñ–∏–ª—å–Ω–æ—Å—Ç—å)
- ‚úÖ `war.go` - –ú–æ–¥–µ–ª–∏ –≤–æ–π–Ω –∏ –∞—Ç–∞–∫
- ‚úÖ `building.go` - –ú–æ–¥–µ–ª–∏ –∑–¥–∞–Ω–∏–π –∏ –∞–ø–≥—Ä–µ–π–¥–æ–≤
- ‚úÖ `linked_clan.go` - –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–ª–∞–Ω—ã

**–°—Ç–∞—Ç—É—Å**: ‚úÖ 100% (~260 —Å—Ç—Ä–æ–∫ Go vs ~220 —Å—Ç—Ä–æ–∫ Python)

#### ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config/)
- ‚úÖ `config.go` - –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - –ß—Ç–µ–Ω–∏–µ –∏–∑ `api_tokens.txt`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–°—Ç–∞—Ç—É—Å**: ‚úÖ 100% (~160 —Å—Ç—Ä–æ–∫ Go vs ~78 —Å—Ç—Ä–æ–∫ Python)

#### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (internal/database/)
- ‚úÖ `database.go` - SQLite —Å–µ—Ä–≤–∏—Å —Å–æ –≤—Å–µ–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ (~1380 —Å—Ç—Ä–æ–∫)
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è 10 —Ç–∞–±–ª–∏—Ü
  - 47+ –º–µ—Ç–æ–¥–æ–≤ CRUD –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
  - –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Python –≤–µ—Ä—Å–∏–µ–π

**–°—Ç–∞—Ç—É—Å**: ‚úÖ 100% (~1380 —Å—Ç—Ä–æ–∫ Go vs ~1570 —Å—Ç—Ä–æ–∫ Python)

#### üåê API –ö–ª–∏–µ–Ω—Ç—ã (internal/api/)
- ‚úÖ `coc_api.go` - Clash of Clans API –∫–ª–∏–µ–Ω—Ç (~450 —Å—Ç—Ä–æ–∫)
  - 15+ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–∞/–∫–ª–∞–Ω–∞
  - –î–∞–Ω–Ω—ã–µ –æ –≤–æ–π–Ω–∞—Ö –∏ CWL
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–≥–æ–≤
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å —Ç—Ä–µ–∫–∏–Ω–≥–æ–º
  - Rate limiting

**–°—Ç–∞—Ç—É—Å**: ‚úÖ 100% (~450 —Å—Ç—Ä–æ–∫ Go vs ~700 —Å—Ç—Ä–æ–∫ Python)

#### üí≥ –°–µ—Ä–≤–∏—Å—ã (internal/services/)
- ‚úÖ `payment.go` - YooKassa –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (~390 —Å—Ç—Ä–æ–∫)
  - –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–ª–∞—Ç–µ–∂–µ–π
  - –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤
  - –í—Å–µ —Ç–∏–ø—ã –ø–æ–¥–ø–∏—Å–æ–∫ (12 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
  - HTTP API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YooKassa v3
  
- ‚úÖ `war_archiver.go` - –ê—Ä—Ö–∏–≤–∞—Ü–∏—è –≤–æ–π–Ω (~480 —Å—Ç—Ä–æ–∫)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–æ–π–Ω
  - –§–æ–Ω–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
  - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ CWL –≤–æ–π–Ω

- ‚úÖ `building_monitor.go` - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–¥–∞–Ω–∏–π (~510 —Å—Ç—Ä–æ–∫)
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–ø–≥—Ä–µ–π–¥–æ–≤
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É–ª—É—á—à–µ–Ω–∏—è—Ö
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–Ω–∏–º–∫–æ–≤ –∑–¥–∞–Ω–∏–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–º–∏—É–º-–ø–æ–¥–ø–∏—Å–æ–∫

**–°—Ç–∞—Ç—É—Å**: ‚úÖ 100% (~1380 —Å—Ç—Ä–æ–∫ Go vs ~3000 —Å—Ç—Ä–æ–∫ Python)

#### üåç –£—Ç–∏–ª–∏—Ç—ã (internal/utils/)
- ‚úÖ `translations.go` - –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (~380 —Å—Ç—Ä–æ–∫)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
  - 100+ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  - 40+ –Ω–∞–∑–≤–∞–Ω–∏–π –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
  - 40+ –æ–ø–∏—Å–∞–Ω–∏–π –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

- ‚úÖ `building_data.go` - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–¥–∞–Ω–∏–π (~570 —Å—Ç—Ä–æ–∫)
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Å–µ—Ö —Ç–∏–ø–∞—Ö –∑–¥–∞–Ω–∏–π (30+ —Ç–∏–ø–æ–≤)
  - –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ –≤—Ä–µ–º—è —É–ª—É—á—à–µ–Ω–∏–π
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏

**–°—Ç–∞—Ç—É—Å**: ‚úÖ 100% (~950 —Å—Ç—Ä–æ–∫ Go vs ~2200 —Å—Ç—Ä–æ–∫ Python)

#### üöÄ –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
- ‚úÖ `main.go` - –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (~65 —Å—Ç—Ä–æ–∫)

### ‚è≥ –ù–ï –ó–ê–í–ï–†–®–ï–ù–û (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):

#### ü§ñ –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
- ‚ùå `bot.go` - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –±–æ—Ç–∞ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è (~324 —Å—Ç—Ä–æ–∫–∏ Python)
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
  - –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
  - Graceful shutdown

#### üì® –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (internal/handlers/)
- ‚ùå `handlers.go` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π (~1493 —Å—Ç—Ä–æ–∫–∏ Python)
  - –ö–æ–º–∞–Ω–¥–∞ /start
  - –ü–æ–∏—Å–∫ –∏–≥—Ä–æ–∫–æ–≤/–∫–ª–∞–Ω–æ–≤
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
  - –ü–æ–¥–ø–∏—Å–∫–∏ –∏ –ø–ª–∞—Ç–µ–∂–∏
  - Callback –æ–±—Ä–∞–±–æ—Ç–∫–∞

#### üí¨ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚ùå `message_generator.go` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π (~5268 —Å—Ç—Ä–æ–∫ Python!)
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞–Ω–∞—Ö
  - –û—Ç—á–µ—Ç—ã –æ –≤–æ–π–Ω–∞—Ö
  - –°–ø–∏—Å–∫–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
  - Premium —Ñ—É–Ω–∫—Ü–∏–∏

#### ‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- ‚ùå `keyboards.go` - –ú–µ–Ω—é –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (~1260 —Å—Ç—Ä–æ–∫ Python)
  - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
  - –ú–µ–Ω—é –ø–æ–¥–ø–∏—Å–æ–∫
  - –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–ø–∏—Å–∫–∞–º
  - Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

#### üë§ –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚ùå `user_state.go` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (~20 —Å—Ç—Ä–æ–∫ Python)

#### üìú –ü–æ–ª–∏—Ç–∏–∫–∞
- ‚ùå `policy.go` - –ü–æ–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (~144 —Å—Ç—Ä–æ–∫–∏ Python)

#### ‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (internal/keyboards/)
- ‚è≥ `keyboards.go` - Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
  - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
  - –ú–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª–µ–π
  - –ú–µ–Ω—é –ø–æ–¥–ø–∏—Å–æ–∫
  - –ù–∞–≤–∏–≥–∞—Ü–∏—è

#### üîç –°–∫–∞–Ω–µ—Ä—ã (internal/scanners/)
- ‚è≥ `clan_scanner.go` - –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞–Ω–æ–≤
- ‚è≥ `war_importer.go` - –ò–º–ø–æ—Ä—Ç –≤–æ–π–Ω

#### üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã (internal/utils/)
- ‚è≥ `validate.go` - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–≥–æ–≤
- ‚è≥ `translations.go` - –ü–µ—Ä–µ–≤–æ–¥—ã –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
- ‚è≥ `policy.go` - –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏

#### ü§ñ –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç (internal/bot/)
- ‚è≥ `bot.go` - –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –±–æ—Ç–∞
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
  - Graceful shutdown

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ClashBOfClashBot/
‚îú‚îÄ‚îÄ main.go                      # ‚úÖ –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ go.mod                       # ‚úÖ Go –º–æ–¥—É–ª—å
‚îú‚îÄ‚îÄ go.sum                       # ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md                    # –ì–ª–∞–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ ADMINSTR.md                  # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ config.go                # ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (100%)
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ models/                  # ‚úÖ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (100%)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscription.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_profile.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ war.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ building.go
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ linked_clan.go
‚îÇ   ‚îú‚îÄ‚îÄ database/                # ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (100%)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.go
‚îÇ   ‚îú‚îÄ‚îÄ api/                     # ‚úÖ API –∫–ª–∏–µ–Ω—Ç—ã (100%)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ coc_api.go
‚îÇ   ‚îú‚îÄ‚îÄ services/                # ‚úÖ –°–µ—Ä–≤–∏—Å—ã (100%)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ payment.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ war_archiver.go
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ building_monitor.go
‚îÇ   ‚îú‚îÄ‚îÄ utils/                   # ‚úÖ –£—Ç–∏–ª–∏—Ç—ã (100%)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ translations.go
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ building_data.go
‚îÇ   ‚îú‚îÄ‚îÄ handlers/                # ‚ùå –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/               # ‚ùå –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
‚îÇ   ‚îî‚îÄ‚îÄ bot/                     # ‚ùå –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
‚îî‚îÄ‚îÄ oldpy/                       # ‚úÖ Python –≤–µ—Ä—Å–∏—è (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞)
    ‚îú‚îÄ‚îÄ bot.py
    ‚îú‚îÄ‚îÄ config.py
    ‚îú‚îÄ‚îÄ database.py
    ‚îú‚îÄ‚îÄ coc_api.py
    ‚îú‚îÄ‚îÄ handlers.py
    ‚îú‚îÄ‚îÄ keyboards.py
    ‚îú‚îÄ‚îÄ message_generator.py
    ‚îú‚îÄ‚îÄ payment_service.py
    ‚îú‚îÄ‚îÄ war_archiver.py
    ‚îú‚îÄ‚îÄ building_monitor.py
    ‚îú‚îÄ‚îÄ models/
    ‚îú‚îÄ‚îÄ scanners/
    ‚îî‚îÄ‚îÄ ... (–≤—Å–µ Python —Ñ–∞–π–ª—ã)
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
go mod download
go mod tidy
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `api_tokens.txt`:

```txt
BOT_TOKEN=your_telegram_bot_token
BOT_USERNAME=your_bot_username
COC_API_TOKEN=your_coc_api_token
YOOKASSA_SHOP_ID=your_yookassa_shop_id
YOOKASSA_SECRET_KEY=your_yookassa_secret_key
```

### 3. –ó–∞–ø—É—Å–∫

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
go run main.go

# –°–±–æ—Ä–∫–∞
go build -o clashbot main.go

# –ó–∞–ø—É—Å–∫ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞
./clashbot
```

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–º. –≤ [ADMINSTR.md](./ADMINSTR.md)

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Go –≤–µ—Ä—Å–∏–∏

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Python | Go | –£–ª—É—á—à–µ–Ω–∏–µ |
|----------------|--------|-----|-----------|
| –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ | 3-5 —Å–µ–∫ | 0.5-1 —Å–µ–∫ | **5x –±—ã—Å—Ç—Ä–µ–µ** |
| –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ | 150-200 MB | 30-50 MB | **4x –º–µ–Ω—å—à–µ** |
| –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ | 50-100 –º—Å | 5-20 –º—Å | **5-10x –±—ã—Å—Ç—Ä–µ–µ** |
| –†–∞–∑–º–µ—Ä –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞ | ~50 MB (—Å deps) | ~20-30 MB | **Standalone** |
| –î–µ–ø–ª–æ–π | –¢—Ä–µ–±—É–µ—Ç Python runtime | –û–¥–∏–Ω –±–∏–Ω–∞—Ä–Ω–∏–∫ | **–ü—Ä–æ—â–µ** |
| –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º | asyncio | Goroutines | **–ù–∞—Ç–∏–≤–Ω—ã–π** |
| –¢–∏–ø–∏–∑–∞—Ü–∏—è | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è | **–ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ** |

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Go**: 1.21+
- **Telegram Bot API**: github.com/go-telegram-bot-api/telegram-bot-api/v5
- **SQLite**: github.com/mattn/go-sqlite3
- **HTTP Client**: github.com/go-resty/resty/v2
- **Logging**: github.com/sirupsen/logrus
- **UUID**: github.com/google/uuid
- **Rate Limiting**: golang.org/x/time/rate

## üìù –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (Python –≤–µ—Ä—Å–∏—è –≤ oldpy/)

- üë§ –ü—Ä–∏–≤—è–∑–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤ –∏ –∫–ª–∞–Ω–æ–≤
- ‚öîÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–æ–π–Ω–∞—Ö
- üèÜ CWL —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- üí∞ –ü–æ–¥–ø–∏—Å–∫–∏ (Premium & PRO PLUS)
- üèóÔ∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–¥–∞–Ω–∏–π (Premium)
- üìÅ –ú—É–ª—å—Ç–∏–ø—Ä–æ—Ñ–∏–ª—å–Ω–æ—Å—Ç—å (PRO PLUS)
- üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- üí≥ –ü–ª–∞—Ç–µ–∂–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (YooKassa)

## üéØ –ü–ª–∞–Ω –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–§–∞–∑–∞ 1**: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –±–∞–∑–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–ê**
   - –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (6 —Ñ–∞–π–ª–æ–≤)
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞

2. **–§–∞–∑–∞ 2**: –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ API –∫–ª–∏–µ–Ω—Ç–æ–≤ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–ê**
   - Database Service (~1100 —Å—Ç—Ä–æ–∫, 47 –º–µ—Ç–æ–¥–æ–≤)
   - COC API Client (~450 —Å—Ç—Ä–æ–∫, 15+ –º–µ—Ç–æ–¥–æ–≤)
   - Translations (~380 —Å—Ç—Ä–æ–∫, 100+ –ø–µ—Ä–µ–≤–æ–¥–æ–≤)

3. **–§–∞–∑–∞ 3**: –ú–∏–≥—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ ‚è≥ **–í –ü–†–û–¶–ï–°–°–ï**
   - Payment Service (YooKassa)
   - Message Generator
   - War Archiver
   - Building Monitor

4. **–§–∞–∑–∞ 4**: Handlers –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã ‚è≥
   - Message Handler
   - Callback Handler
   - Keyboards

5. **–§–∞–∑–∞ 5**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚è≥
   - Bot Core
   - End-to-end —Ç–µ—Å—Ç—ã
   - –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞

6. **–§–∞–∑–∞ 6**: –î–µ–ø–ª–æ–π –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ‚è≥
   - Production —Å–±–æ—Ä–∫–∞
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## ü§ù –°–æ–¥–µ–π—Å—Ç–≤–∏–µ

–ü—Ä–æ–µ–∫—Ç –º–∏–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Python –Ω–∞ Go —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º 100% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

Python –≤–µ—Ä—Å–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `oldpy/` –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–°–º. –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ª–∏—Ü–µ–Ω–∑–∏–∏.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–°–º. [ADMINSTR.md](./ADMINSTR.md) –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –∑–∞–ø—É—Å–∫—É.

---

**–°—Ç–∞—Ç—É—Å**: üöß –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞  
**–í–µ—Ä—Å–∏—è**: 0.1.0-alpha  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2024

üéÆ ClashBot - –í–∞—à –ø–æ–º–æ—â–Ω–∏–∫ –≤ Clash of Clans! üéÆ
